<div class="rich-text bc-{{settings.section_style}}-bt py-{{section.settings.page_x_pd}} py-{{section.settings.page_y_pd}} " style="padding-bottom:5px; background: {{section.settings.bg_color}}">
  <div class="page-width page-width-{{settings.section_style}} py-mg-y-l">
    <div class="rich-text__content " style="text-align:{{section.settings.align}}">
        {%- for block in section.blocks -%}
        {% case block.type %}
            {%- when 'heading' -%}
            <h2 class="rich-text__heading h1 py-{{block.settings.fs}} py-mg-y-s" style="color:{{section.settings.content_color}}">
                {{ block.settings.heading | escape }}
            </h2>
            {%- when 'text' -%}
            <div class="rich-text__text rte py-{{block.settings.fs}}"  style="color:{{section.settings.content_color}}">{{ block.settings.text }}</div>
            {%- when 'button' -%}
            {%- if block.settings.button_label != blank -%}
                <a href="{{ block.settings.button_link }}" class="button{% if block.settings.button_style_secondary %} button--secondary{% else %} button--primary{% endif %}"{% if block.settings.button_link == blank %} aria-disabled="true"{% endif %}>{{ block.settings.button_label | escape }}</a>
            {%- endif -%}
        {%- endcase -%}
        {%- endfor -%}
    </div>      
  </div>
</div>

{% schema %}
{
  "name": "Rich Text",
  "settings": [
    {
      "type": "select",
      "id": "align",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center",
      "label": "Text Aligment"
    },    
    {
      "type": "select",
      "id": "bg_color",
      "options": [          
          {
            "label": "Transparent",
            "value": "transparent"
          },        
          {
            "label": "Dark",
            "value": "var(--py-bg-color-dark)"
          },
          {
            "label": "Middle Dark",
            "value": "var(--py-bg-color-middle-dark)"
          },
          {
            "label": "Average",
            "value": "var(--py-bg-color-avarge)"
          },
          {
            "label": "Middle Light",
            "value": "var(--py-bg-color-middle-light)"
          },
          {
            "label": "Light",
            "value": "var(--py-bg-color-light)"
          }
        ],
        "default": "var(--py-bg-color-light)",
      "label": "Background color"
    },
    {
        "type": "select",
        "id": "content_color",
        "label": "Color",
        "options": [ 
            {
            "label": "Dark",
            "value": "var(--py-color-dark)"
            },
            {
            "label": "Average",
            "value": "var(--py-color-avarge)"
            },
            {
            "label": "Light",
            "value": "var(--py-color-light)"
            }
        ],
        "default": "var(--py-color-dark)"
    },
    {
      "type": "select",
      "id": "page_x_pd",
      "label": "Container Padding Horizontal",
      "options": [
        {
          "label": "Unset",
          "value": "pd-x-un"
        },
        {
          "label": "None",
          "value": "pd-x-n"
        },
        {
          "label": "XL",
          "value": "pd-x-xl"
        },
        {
          "label": "L",
          "value": "pd-x-l"
        },
        {
          "label": "M",
          "value": "pd-x-m"
        },
        {
          "label": "S",
          "value": "pd-x-s"
        },
        {
          "label": "XS",
          "value": "pd-x-xs"
        }
      ],
      "default": "pd-x-s"
    },
    {
      "type": "select",
      "id": "page_y_pd",
      "label": "Container Padding Vertical",
      "options": [
        {
          "label": "Unset",
          "value": "pd-y-un"
        },
        {
          "label": "None",
          "value": "pd-y-n"
        },
        {
          "label": "XL",
          "value": "pd-y-xl"
        },
        {
          "label": "L",
          "value": "pd-y-l"
        },
        {
          "label": "M",
          "value": "pd-y-m"
        },
        {
          "label": "S",
          "value": "pd-y-s"
        },
        {
          "label": "XS",
          "value": "pd-y-xs"
        }
      ],
      "default": "pd-y-xl"
    }
  ],
  "blocks": [
    {
      "type": "heading",
      "name": "Heading",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "default": "Default Title",
          "label": "Heading"
        },
        {
          "type": "select",
          "id": "fs",
          "label": "Font Size",
          "options": [
            {
              "label": "Unset",
              "value": "fs-un"
            },
            {
              "label": "X Large",
              "value": "fs-xl"
            },
            {
              "label": "Large",
              "value": "fs-l"
            },
            {
              "label": "Medium",
              "value": "fs-m"
            },
            {
              "label": "X Small",
              "value": "fs-xs"
            },
            {
              "label": "Small",
              "value": "fs-s"
            }
          ],
          "default": "fs-xl"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text",
      "limit": 1,
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "default": "<p>Pair text with an image to focus on your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>",
          "label": "Text"
        },
        {
          "type": "select",
          "id": "fs",
          "label": "Font Size",
          "options": [
            {
              "label": "Unset",
              "value": "fs-un"
            },
            {
              "label": "X Large",
              "value": "fs-xl"
            },
            {
              "label": "Large",
              "value": "fs-l"
            },
            {
              "label": "Medium",
              "value": "fs-m"
            },
            {
              "label": "X Small",
              "value": "fs-xs"
            },
            {
              "label": "Small",
              "value": "fs-s"
            }
          ],
          "default": "fs-m"
        }
      ]
    },
    {
      "type": "button",
      "name": "Button",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "button_label",
          "default": "Button label",
          "label": "Button label",
          "info": "Leave the label blank to hide the button."
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Rich text",
      "blocks": [
        {
          "type": "heading"
        },
        {
          "type": "text"
        }
      ]
    }
  ]
}
{% endschema %}