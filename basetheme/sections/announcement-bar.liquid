<style>
  .announcement-bar{
    background-color: {{section.settings.py_announcement_bg_color}};
  }
  .announcement-bar__message{
    color:{{section.settings.py_announcement_color}};
  }
  .announcement-bar__link{
    color:{{section.settings.py_announcement_link_color}};
  }
  .announcement-bar__link:hover{
    color:{{section.settings.py_announcement_link_hov_color}};
  }
</style>
{%- assign d = section.settings -%}
{%- for block in section.blocks -%}
  {%- case block.type -%}
    {%- when 'announcement' -%}
      <div class="announcement-bar center py-{{d.page_x_pd}} py-{{d.page_y_pd}} py-{{d.br}}" role="region" aria-label="{{ 'sections.header.announcement' | t }}">
        {%- if block.settings.text != blank -%}
          {%- if block.settings.link != blank -%}
            <a href="{{ block.settings.link }}" class="announcement-bar__link link link--text">
          {%- endif -%}
              <span class="announcement-bar__message py-{{d.fs}}">
                {{ block.settings.text | escape }}
              </span>
          {%- if block.settings.link != blank -%}
            </a>
          {%- endif -%}
        {%- endif -%}
      </div>
  {%- endcase -%}
{%- endfor -%}

{% schema %}
{
  "name": "announcement bar",
  "max_blocks": "12",
  "settings": [
    {
      "type": "select",
      "id": "bg_color",
      "label": "Background",
      "options": [
        {
          "label": "None",
          "value": "none"
        },
        {
          "label": "Background Dark",
          "value": "bg-c-dark"
        },
        {
          "label": "Background Average",
          "value": "bg-c-average"
        },
        {
          "label": "Background Light",
          "value": "bg-c-light"
        }
      ],
      "default": "bg-c-light"
    },
    {
      "type": "select",
      "id": "page_x_pd",
      "label": "Container Padding Horizontal",
      "options": [
        {
          "label": "Unset",
          "value": "pd-x-un"
        },
        {
          "label": "None",
          "value": "pd-x-n"
        },
        {
          "label": "Padding H XL",
          "value": "pd-x-xl"
        },
        {
          "label": "Padding H L",
          "value": "pd-x-l"
        },
        {
          "label": "Padding H M",
          "value": "pd-x-m"
        },
        {
          "label": "Padding H S",
          "value": "pd-x-s"
        },
        {
          "label": "Padding H XS",
          "value": "pd-x-xs"
        }
      ],
      "default": "pd-x-un"
    },
    {
      "type": "select",
      "id": "page_y_pd",
      "label": "Container Padding Vertical",
      "options": [
        {
          "label": "Unset",
          "value": "pd-y-un"
        },
        {
          "label": "None",
          "value": "pd-y-n"
        },
        {
          "label": "Padding V XL",
          "value": "pd-y-xl"
        },
        {
          "label": "Padding V L",
          "value": "pd-y-l"
        },
        {
          "label": "Padding V M",
          "value": "pd-y-m"
        },
        {
          "label": "Padding V S",
          "value": "pd-y-s"
        },
        {
          "label": "Padding V XS",
          "value": "pd-y-xs"
        }
      ],
      "default": "pd-y-xl"
    },
    {
      "type": "select",
      "id": "fs",
      "label": "Font Size",
      "options": [
        {
          "label": "Unset",
          "value": "fs-un"
        },
        {
          "label": "X Large",
          "value": "fs-xl"
        },
        {
          "label": "Font Size L",
          "value": "fs-l"
        },
        {
          "label": "Font Size M",
          "value": "fs-m"
        },
        {
          "label": "Font Size XS",
          "value": "fs-xs"
        },
        {
          "label": "Font Size S",
          "value": "fs-s"
        }
      ],
      "default": "fs-s"
    },
    {
      "type": "select",
      "id": "br",
      "label": "Border",
      "options": [
        {
          "label": "None",
          "value": "br-none"
        },
        {
          "label": "Horizontal and Vertical",
          "value": "br"
        },
        {
          "label": "Horizontal",
          "value": "br-x"
        },
        {
          "label": "Vertical",
          "value": "br-y"
        }
      ],
      "default": "br-none"
    }
  ],
  "blocks": [
    {
      "type": "announcement",
      "name": "Announcement",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "default": "Welcome to our store",
          "label": "Text"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "announcement bar",
      "blocks": [
        {
          "type": "announcement"
        }
      ]
    }
  ]
}
{% endschema %}