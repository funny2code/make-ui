<link rel="stylesheet" href="/assets/section-collection-list.css">
<link rel="stylesheet" href="/assets/component-slider.css">
<link rel="stylesheet" href="/assets/component-product-card-style-1.css">

<style>
  .collection-list-wrapper  .collection-list-title{
    color: <%=section.settings.title_color%>;
    font-size:<%=section.settings.title_font_size%>px;
    font-weight:<%=section.settings.title_font_weight%>
  }
  .collection-list-wrapper slider-component{
    grid-gap :<%=section.settings.item_space%>px;
    margin-right:-<%=section.settings.item_space%>px;
  }
  .collection-list-wrapper .card__info-container{
    padding:25px 15px;
    display: flex;
    justify-content: space-between;
  }  
  .collection-list-wrapper .card__info-container .card__info{
    padding-right:20px;
  }
  .collection-list-wrapper .card--stretch{
    border-radius:<%=section.settings.card_radius%>px;
    overflow:hidden;
  }
 
  .collection-list-wrapper .grid__item{
    padding-left:0;
    padding-right:<%=section.settings.item_space%>px;
    padding-top:<%=section.settings.item_space%>px;
  }  
  .collection-list-wrapper .card__info-container h3{
    font-size:<%=section.settings.card_title_font_size%>px;
    font-weight:<%=section.settings.card_title_font_weight%>;
    color:<%=section.settings.info_color%>;
    margin-top:0;
  }
  @media(max-width:749px){
    .card__info-container h3{
      font-size:<%=section.settings.card_title_m_font_size%>px;                  
    }
    .collection-list-wrapper .card__info-container{
      flex-direction: column;
    }
    .collection-list-wrapper .card__info-container .card__info{
      padding-right:0px;
      padding-bottom:0px;
    }
  }
  .collection-list-wrapper .card__caption{
    font-size:<%=section.settings.card_text_font_size%>px;
    color:<%=section.settings.info_color%>;
  }
  /* width */
  .collection-list-wrapper .slider::-webkit-scrollbar {
    height: 5px;
    width: 5px;
    display:initial;
    background:#666;
    border-radius: 10px;    
  }

  /* Track */
  .collection-list-wrapper .slider::-webkit-scrollbar-track {    
    border-radius: 10px;
  }

  /* Handle */
  .collection-list-wrapper .slider::-webkit-scrollbar-thumb {
    background: <%=section.settings.title_color%>; 
    border-radius: 10px;
  } 
  .collection-list-wrapper .slider{
    padding-bottom:20px;
  }
  .collection-list-wrapper .slider-button{
    background-color:<%=section.settings.title_color%>;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    padding-top: 5px;
  }
  .collection-list-wrapper .slider-button path{
    fill: <%=section.settings.title_color%>;
    filter: invert(1);
  }
  .collection-list-wrapper .slider-buttons{
    bottom: auto;
    top: 45%;
    left:-15px;
    width: calc(100% + <%=section.settings.item_space%>px);
  }
  
</style>

<div class="collection-list-wrapper py-<%=section.settings.bg_color%> py-<%=section.settings.page_y_pd%> py-<%=section.settings.page_x_pd%> bc-<%=settings.section_style%>-bt">
  <div class="page-width py-<%=section.settings.page_width%> py-<%=section.settings.page_y_mg%> py-<%=section.settings.page_y_mg%>">
    <div class="title-wrapper-with-link<% if(section.settings.swipe_on_mobile){ %> title-wrapper--self-padded-tablet-down<% } else { %> title-wrapper--self-padded-mobile<% } %><% if(!section.settings.title){ %> title-wrapper-with-link--no-heading<% } %>">
      <h2 class="collection-list-title"><%= section.settings.title %></h2>

      <% if(section.settings.show_view_all && section.settings.swipe_on_mobile){ %>
        <a href="#" class="link underlined-link large-up-hide">View all</a>
      <% } %>
    </div>

    <slider-component class="slider-mobile-gutter">
      <ul class="collection-list grid grid--1-col<% if(section.blocks.length < 3){ %> grid--2-col-desktop<% } else { %> grid--3-col-desktop<% } %> grid--2-col-tablet  slider slider--desktop negative-margi negative-margin--small"
        id="Slider-1"
        role="list"
      >
        <% section.blocks.forEach((block,index)=>{ %>
         <% if(collection?.title){ %>
          <li class="collection-list__item grid__item slider__slide">
            <a <% if(block.settings.collection && block.settings.collection?.all_products_count > 0){ %> href="<%= block.settings.collection?.url %>"<% } %>
              class="card animate-arrow link<% if(block.settings.collection?.image){ %> card--media<% } else { %><% if(section.settings.image_ratio !== 'adapt'){ %> card--stretch<% } %><% } %><% if(!section.settings.image_padding){ %> card--light-border<% } %>"
            >
              <div class="card--stretch py-<%=section.settings.card_bg_color%>">
                <% if(block.settings.collection?.image){ %>
                  <div>                    
                    <div class="media<% if(section.blocks.length > 1){ %> media--<%= section.settings.image_ratio %><% } %> media--hover-effect overflow-hidden"
                      <% if(section.settings.image_ratio === 'adapt' && section.blocks.length > 1){ %>style="padding-bottom: <%= 1 / block.settings.collection?.image.aspect_ratio * 100 %>%;"<% } %>>

                      <img srcset="<% if(block.settings.collection?.image.width >= 165){ %><%= block.settings.collection?.image %> 165w,<% } %>
                        <% if(block.settings.collection?.image.width >= 330){ %><%= block.settings.collection?.image %> 330w,<% } %>
                        <% if(block.settings.collection?.image.width >= 535){ %><%= block.settings.collection?.image %> 535w,<% } %>
                        <% if(block.settings.collection?.image.width >= 720){ %><%= block.settings.collection?.image %> 720w,<% } %>
                        <% if(block.settings.collection?.image.width >= 940){ %><%= block.settings.collection?.image %> 940w,<% } %>
                        <% if(block.settings.collection?.image.width >= 1440){ %><%= block.settings.collection?.image %> 1440w,<% } %>
                        <% if(block.settings.collection?.image.width >= 1880){ %><%= block.settings.collection?.image %> 1880w<% } %>"
                        src="<%= block.settings.collection?.image %>"
                        sizes="(min-width: 1100px)<% if(section.blocks.length > 1){ %>535px<% } else { %>940px<% } %>, (min-width: 750px) <% if(section.blocks.length > 1){ %>calc((100vw - 10rem) / 2)<% } else { %>calc(100vw - 10rem)<% } %>, calc(100vw - 3rem)"
                        alt="<%= block.settings.collection?.title %>"
                        height="<%= block.settings.collection?.image.height %>"
                        width="<%= block.settings.collection?.image.width %>"
                        loading="lazy"
                        class="motion-reduce"
                      >
                    </div>
                  </div>
                
                <div class="card__info-container">
                  <div class="card__info">                    
                    <h3>
                      <% if(block.settings.collection?.title){ %>
                        <%- block.settings.collection?.title -%>
                      <% } else { %>
                        Collection Title
                      <% } %>
                    </h3>
                    <% if(block.settings.collection?.description){ %>
                      <p class="card__caption">
                        <%- block.settings.collection?.description -%>
                      </p>
                    <% } %>
                  </div>
                  <div class="view-collection-container">
                    <span class="view_collection py-btn-<%=section.settings.view_btn_color%> py-btn-hover-<%=section.settings.view_btn_hover_color%> py-btn-<%=section.settings.view_btn_size%>">View</span>
                  </div>
                </div>
                <% } else { %>
                <div class="card__info-container">
                  <div class="card__info">  
                    <h3 class="h1">
                      <% if(block.settings.collection?.title){ %>
                        <%- block.settings.collection?.title -%>
                      <% } else { %>
                        Collection Title
                      <% } %>
                    </h3>

                    <% if(block.settings.collection?.description){ %>
                      <p class="card__caption">
                        <%- block.settings.collection?.description -%>
                      </p>
                    <% } %>
                  </div>
                  <div class="view-collection-container">
                    <span class="view_collection py-btn-<%=section.settings.view_btn_color%> py-btn-hover-<%=section.settings.view_btn_hover_color%> py-btn-<%=section.settings.view_btn_size%>">View</span>
                  </div>
                </div>
                <% } %>
              </div>
            </a>
          </li>
          <% } else { %>
          <li class="a collection-list__item grid__item slider__slide">
            <a  class="card animate-arrow link card--media card--stretch"
            >
              <div class="card--stretch py-<%=section.settings.card_bg_color%>">

                  <div>
                    
                    <div class="overflow-hidden py-bg-c-light">
                     <% var n_index = index % 6 + 1 %>             
                     <%= 'collection-' + n_index %>             
                    </div>
                  </div>
                <div class="card__info-container">
                  <div class="card__info">  
                    <h3>                    
                        Collection Title                    
                    </h3>
                    <p class="card__caption">
                        Your colllection description
                    </p>
                  </div> 
                  <div class="view-collection-container">
                    <span class="view_collection py-btn-<%=section.settings.view_btn_color%> py-btn-hover-<%=section.settings.view_btn_hover_color%> py-btn-<%=section.settings.view_btn_size%>">View</span>
                  </div>
                </div>
              </div>
            </a>
          </li>
          <% } %>
        <% }) %>
      </ul>

      
      <div class="slider-buttons slider-buttons-desktop no-js-hidden<% if(section.blocks.length < 4){ %> large-hide<% } %><% if(section.blocks.length < 2){ %> small-hide<% } %>">
        <button type="button" class="slider-button slider-button--prev" name="previous" aria-label="previous_slide"><%- include('../snippets/icon-caret') %></button>
        <button type="button" class="slider-button slider-button--next" name="next" aria-label="next_slide"><%- include('../snippets/icon-caret') %></button>
      </div>
      
    </slider-component>  
  </div>
</div>