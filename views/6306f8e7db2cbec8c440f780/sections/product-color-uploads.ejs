<style id="stylesheet-product-colors">
  <% section?.block_order?.forEach((orderItem, index) => {){ %><% let block = section?.blocks[orderItem]){ %>
  <% var color =  block?.settings?.color){ %>
  <% var name =  block?.settings?.name.toLowerCase()){ %>
  .pd-colors__icon[data-color="<%= name %>"] {
    background-color: <%= color %>;
  <% if(block?.settings?.use_image && block?.settings?.swatch_image){ %>
    background-color: transparent;
    background-image: url('<%= block?.settings?.swatch_image | img_url: '50x' %>');
    background-size: cover;
  <% } %>
  }
<% }) %>
</style>

<% schema){ %>
{
  "name": "Product Color Uploads",
  "tag" : "section",
  "settings": [],
  "blocks": [
  	{
      "type": "swatch",
      "name": "Color Swatch",
      "settings": [
        {
          "type": "header",
          "content": "Color Swatch"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Name"
        },
        {
          "type": "color",
          "id": "color",
          "label": "Color"
        },
        {
          "type": "checkbox",
          "id": "use_image",
          "label": "Use image instead of color",
          "default": false
        },
        {
          "type": "image_picker",
          "id": "swatch_image",
          "label": "Swatch image"
        }
  	  ]
  	}
  ]
}
<% endschema){ %>