<link rel="stylesheet" href="/<%=srcId%>/component-slider.css">
<link rel="stylesheet" href="/<%=srcId%>/section-main-product-style-1.css">
<link rel="stylesheet" href="/<%=srcId%>/component-accordion-style-1.css">
<link rel="stylesheet" href="/<%=srcId%>/component-badge.css">
<link rel="stylesheet" href="/<%=srcId%>/component-price-style-1.css">
<link rel="stylesheet" href="/<%=srcId%>/component-variants.css">

<% var sizeCharts = product?.metafields?.lengthcharts %>
<% var colortitle = product?.metafields?.color?.color_name?.value?.toLowerCase() %>
<% var colorvalue = product?.metafields?.color?.color_value?.value %>
<% var colorimage = product?.metafields?.color?.color_image?.value %>
<style>
  .product__info-container .product__text,
  .product__info-container .product__title,
  .product__info-container .price,
  .product__info-container .form__label,
  .product__info-container .product__description{
    color: <%=section.settings.section_color%>;
  }  
  .product__info-container .bc-selling-tag .bc-vertical-tag-inner {
      background-color: <%=section.settings.section_color%>;;    
      color: <%=section.settings.section_bg_color%>;
  }
  .main-product-section,.product__info-wrapper{
     background-color:<%=section.settings.section_bg_color%>;
  }
  .breadcrumb-nav{
     background-color:<%=section.settings.section_bg_color%>;
     padding: 20px 0px;
  }
  .breadcrumb-nav *{
    color: <%=section.settings.section_color%>;
  }
  .bc-colors__icon[data-color="<%= colortitle %>"] {
    background-color: <%= colorvalue %>;
  <% if(colorimage){ %>
    background-color: transparent;
    background-image: url('<%= colorimage %>');
    background-size: cover;
  <% } %>
  }  
  .main-product-section{
    padding-bottom: var(--py-pd-y-m);
  }
  #main_media_slide{
    margin-left:-<%=section.settings.pd_media_space%>px;
  }
  #main_media_slide>li{
    padding-left:<%=section.settings.pd_media_space%>px;
    padding-bottom:<%=section.settings.pd_media_space%>px;
  }
</style>


<link rel="stylesheet" href="/<%=srcId%>/component-deferred-media.css" >

<% var first_3d_model = product?.media?.filter(item => item.media_type === "model") %>
<% if(first_3d_model?.length){ %>
  <link rel="stylesheet" href="/<%=srcId%>/component-product-model.css">
  <link id="ModelViewerStyle" rel="stylesheet" href="https://cdn.shopify.com/shopifycloud/model-viewer-ui/assets/v1.0/model-viewer-ui.css" >
  <link id="ModelViewerOverride" rel="stylesheet" href="/<%=srcId%>/component-model-viewer-ui.css" >
<% } %>
<% if(section.settings.enable_breadcrumb_nav){ %><%- include("../snippets/breadcrumb", {template: "product"}) %><% } %>
<section class="main-product-section <% if(section.settings.media_style !== "top" && section.settings.media_style !== "horizontal_grid"){ %>page-width<% } %>" >
  <div class="product grid grid--1-col media-style__<%=section.settings.media_style%> mobile-media-style__<%=section.settings.media_style_m%> <% if(section.settings.media_style !== "top" && section.settings.media_style !== "horizontal_grid"){ %>py-<%=section.settings.page_width%><% } %>">
    <div class="grid__item product__media-wrapper">
      <slider-component class="slider-mobile-gutter">
        <a class="skip-to-content-link button visually-hidden" href="#ProductInfo-<%= sectionid %>">
          <%= "accessibility.skip_to_product_info" %>
        </a>
        <ul id="main_media_slide" class="product__media-list grid grid--peek list-unstyled slider 
                   <% if(section.settings.media_style === "top"){ %>
                     <% if(product?.media?.length > 3 || product?.media?.length === 0){ %>
                       grid--3-col-tablet grid--4-col-desktop
                     <% } else if(product?.media?.length > 2){ %>grid--3-col-tablet 
                     <% } else { %>grid--2-col-tablet <% } %> 
                   <% } else if(section.settings.media_style === "horizontal_grid"){ %>
                     <% if(product?.media?.length > 2 || product?.media?.length === 0){ %>
                       grid--3-col-tablet                      
                     <% } else { %>grid--2-col-tablet <% } %>                    
                   <% } else if(section.settings.media_style === "carousel" || section.settings.media_style === "carousel_w_thumb"){ %>grid--1-col-tablet<% } %> 
                   
                   <% if(section.settings.media_style === "top" || section.settings.media_style === "carousel" || section.settings.media_style === "carousel_w_thumb"){ %>
                     slider--desktop <% } else { %>grid-desktop<% } %>  
                   
                   <% if(section.settings.media_style_m === "top" || section.settings.media_style_m === "carousel"){ %>slider--mobile  <% } else { %>grid-mobile<% } %>" role="list">
          <% if(product?.variants[0]?.featured_media){ %>
            <% var media = product?.variants[0]?.featured_media %>
            <li class="product__media-item grid__item active slider__slide<% if(media.media_type !== 'image'){ %> product__media-item--full<% } %>" data-media-id="<%= sectionid %>-<%= media.id %>" data-index="1">
              <%- include('../snippets/product-thumbnail', {
                media: media, 
                position: 'featured', 
                loop: section.settings.enable_video_looping, 
                modal_id: sectionid
              }) %>
            </li>
          <% } %>
          <% product?.media?.forEach((media,index)=>{ %>
            <% if(media.id !== product?.variants[0]?.featured_media?.id){ %>
              <li class="product__media-item grid__item slider__slide <% if(index === 1){ %>active<% } %> <% if(media.media_type !== 'image'){ %> product__media-item--full<% } %>" data-media-id="<%= sectionid %>-<%= media.id %>" data-index="<%=index%>">
                <%- include('../snippets/product-thumbnail', {
                  media: media, 
                  position: index, 
                  loop: section.settings.enable_video_looping, 
                  modal_id: sectionid
                }) %>
              </li>
            <% } %>
          <% }) %>
          <% if(product?.media?.length === 0){ %>
          <% for(let i=1; i<=4; i++){ %>
            <li class="product__media-item grid__item slider__slide  py-bg-c-light">
            </li>          
          <% } %>
          <% } %>
        </ul>
        <div class="slider-buttons slider-buttons--overlay no-js-hidden 
                    <% if(section.settings.media_style === "top" && product?.media?.length > 3){ %>
                    slider-buttons-desktop
                    <% } %>
                    <% if(section.settings.media_style === "carousel" || section.settings.media_style === "carousel_w_thumb"){ %>
                    <% if(product?.media?.length > 1){ %>slider-buttons-desktop<% } %> 
                    <% } %>
                    <% if(product?.media?.length < 2){ %> small-hide <% } else { %> slider-buttons-mobile<% } %>">
          <button type="button" class="slider-button slider-button--prev" name="previous" aria-label="<%=accessibility.previous_slide%>"><%- include('../snippets/icon-caret') %></button>
          <div class="slider-counter caption">
            <span class="slider-counter--current">1</span>
            <span aria-hidden="true"> / </span>
            <span class="visually-hidden"><%=accessibility.of%></span>
            <span class="slider-counter--total"><%= product?.media?.length %></span>
          </div>
          <button type="button" class="slider-button slider-button--next" name="next" aria-label="<%=accessibility.next_slide%>"><%- include('../snippets/icon-caret') %></button>
        </div>        
      </slider-component>
      <% if(section.settings.media_style === "vertical_w_thumb" || section.settings.media_style === "carousel_w_thumb"){ %>
      <% if(product?.media?.length > 1){ %>
      <div class="carousel-thumb-container small-hide">
        <slider-component class="slider-mobile-gutter">        
          <ul class="product__media-list grid grid--peek list-unstyled slider <% if(section.settings.media_style === "carousel_w_thumb"){ %> grid--3-col-tablet grid--4-col-desktop slider--desktop<% } %>" role="list">
            <% if(product?.variants[0]?.featured_media){ %>
              <% var media = product?.variants[0]?.featured_media %>
              <li class="product__media-item grid__item active slider__slide<% if(media.media_type !== 'image'){ %> product__media-item--full<% } %>" data-media-id="<%= sectionid %>-<%= media.id %>" data-index="1">
                <%- include('../snippets/product-thumbnail', {
                  media: media, 
                  position: 'featured', 
                  loop: section.settings.enable_video_looping, 
                  modal_id: sectionid
                }) %>
              </li>
            <% } %>
            <% product?.media?.forEach((media,index)=>{ %>
              <% if(!media.id === product?.variants[0]?.featured_media?.id){ %>
                <li class="product__media-item grid__item slider__slide <% if(index === 1){ %>active<% } %> <% if(media.media_type !== 'image'){ %> product__media-item--full<% } %>" data-media-id="<%= sectionid %>-<%= media.id %>" data-index="<%=index%>">
                  <%- include('../snippets/product-thumbnail', {
                    media: media, 
                    position: index, 
                    loop: section.settings.enable_video_looping, 
                    modal_id: sectionid
                  }) %>
                </li>
              <% } %>
            <% }) %>
            <% if(product?.media?.length === 0){ %>
            <% for(let i=1; i<=4; i++){ %>
              <li class="product__media-item grid__item slider__slide  py-bg-c-light">
              </li>          
            <% } %>
            <% } %>
          </ul>
          <div class="slider-buttons slider-buttons--overlay small-hide no-js-hidden 
                      <% if(product?.media?.length > 4){ %> slider-buttons-desktop <% } %> <% if(section.settings.media_style === "vertical_w_thumb"){ %> hidden<% } %>">
            <button type="button" class="slider-button slider-button--prev" name="previous" aria-label="<%=accessibility.previous_slide%>"><%- include('../snippets/icon-caret') %></button>
            <div class="slider-counter caption">
              <span class="slider-counter--current">1</span>
              <span aria-hidden="true"> / </span>
              <span class="visually-hidden"><%=accessibility.of%></span>
              <span class="slider-counter--total"><%= product?.media?.length %></span>
            </div>
            <button type="button" class="slider-button slider-button--next" name="next" aria-label="<%=accessibility.next_slide%>"><%- include('../snippets/icon-caret') %></button>
          </div>        
        </slider-component>
      </div>
      <% if(section.settings.media_style === 'carousel_w_thumb'){ %>
          <script> 
            var main_slide = document.querySelector('#main_media_slide');
            document.querySelectorAll('.carousel-thumb-container ul>li.product__media-item').forEach((item)=>{  
              item.addEventListener("click", function(event){
                if(this.className.indexOf('active')>=0){
                  return false;
                }else{                  
                  var current_index = this.getAttribute('data-index');
                  document.querySelector('.carousel-thumb-container ul>li.product__media-item.active').classList.remove('active');                  
                  main_slide.scrollTo({left: main_slide.querySelector('li.product__media-item').clientWidth*(current_index-1) });
                  this.classList.add('active');
                }
              });
            })
          </script>
          <% } else if(section.settings.media_style === 'vertical_w_thumb'){ %>
          <script> 
            var main_slide = document.querySelector('#main_media_slide');
            document.querySelectorAll('.carousel-thumb-container ul>li.product__media-item').forEach((item)=>{  
              item.addEventListener("click", function(event){
                if(this.className.indexOf('active')>=0){
                  return false;
                }else{                  
                  var current_index = this.getAttribute('data-index');
                  var top_position = main_slide.getBoundingClientRect().top + document.documentElement.scrollTop;
                  document.querySelector('.carousel-thumb-container ul>li.product__media-item.active').classList.remove('active'); 
                  for(i=0;i<current_index - 1;i++){
                    top_position+= main_slide.querySelectorAll('li.product__media-item')[i].clientHeight;
                  }                  
                  window.scroll({
                      top: top_position,
                      behavior:"smooth"
                  });
                  this.classList.add('active');
                }
              });
            })
          </script>
      <% } %>
      
      <% } %> 
      <% } %>
      
      <% if(first_3d_model?.length){ %>
        <button
          class="button button--full-width product__xr-button"
          type="button"
          aria-label="<%=products.product?.xr_button_label%>"
          data-shopify-xr
          data-shopify-model3d-id="<%= first_3d_model.id %>"
          data-shopify-title="<%= product?.title %>"
          data-shopify-xr-hidden
        >
          <%- include('../snippets/icon-3d-model') %>
          <%=products.product?.xr_button%>
        </button>
      <% } %>
    </div>
    <div class="product__info-wrapper  py-<%=section.settings.page_width%> py-<%=section.settings.info_section_padding%> <% if(section.settings.media_style === "top" || section.settings.media_style === "horizontal_grid" ){ %> full-width <% } %>">
      <div id="ProductInfo-<%= sectionid %>" class="product__info-container<% if(section.settings.enable_sticky_info){ %> product__info-container--sticky<% } %>">
        <% var product_form_id = 'product-form-' + sectionid %>
        <div class="product-badge" style='width:100%;'><%- include('../snippets/component-badge', {
          meta: product?.metafields?.selling, 
          vertical: false
        }) %></div>
        <div class="product_info_left_col">  
        
        <% section?.block_order?.forEach((orderItem, index) => { %>
          <% let block = section?.blocks[orderItem] %>
          <% if(block.type === '@app'){ %>
            <%# render block %>
          <% } else if(block.type === 'text'){ %>
            <p class="product__text<% if(block?.settings?.text_style === 'uppercase'){ %> caption-with-letter-spacing<% } else if(block?.settings?.text_style === 'subtitle'){ %> subtitle<% } %>">
              <%- block?.settings?.text -%>
            </p>
          <% } else if(block.type === 'title'){ %>
            <style>
              .product__info-container .product__title{
                font-size: <%=block?.settings?.title_fontsize%>px;
                font-weight: <%=block?.settings?.title_fontweight%>;
                font-stretch:<%=block?.settings?.title_fontstretch%>;
                font-style:<%=block?.settings?.title_fontstyle%>;
                line-height:<%=block?.settings?.title_lineheight%>;
                letter-spacing:<%=block?.settings?.title_letterspacing%>
              }
              @media(max-width:749px){
                .product__info-container .product__title{
                    font-size: <%=block?.settings?.title_fontsize_m%>px;
                }
              }
          </style>
            <h1 class="product__title">
              <%= product?.title %>
            </h1>

            <% if(sizeCharts?.cm_content || sizeCharts?.inches_content){ %>
              <% if(section?.block_order?.length === 4){ %>
              <modal-opener class="product-popup-modal__opener no-js-hidden" data-modal="#PopupModal-sizecharts">
                <button id="ProductPopup-sizecharts" class="product-popup-modal__button link bc-size-chart-button" type="button" aria-haspopup="dialog">VIEW SIZING CHART</button>
              </modal-opener>
              <% } %>
            <% } %>

          <% } else if(block.type === 'type'){ %>
            <h5 class="product__type">
              <%= product?.type %>
            </h5>
            
          <% } else if(block.type === 'price'){ %>
            <style>  
              .product__info-container .bc-product-price-wrapper *{
                font-size: <%=block?.settings?.price_fontsize%>px;
                font-weight: <%=block?.settings?.price_fontweight%>;
                font-stretch:<%=block?.settings?.price_fontstretch%>;
                font-style:<%=block?.settings?.price_fontstyle%>;
                line-height:<%=block?.settings?.price_lineheight%>;
                letter-spacing:<%=block?.settings?.price_letterspacing%>
              }
              @media(max-width:749px){
                .product__info-container .bc-product-price-wrapper *{
                    font-size: <%=block?.settings?.price_fontsize_m%>px;
                }
              }
            </style>
            <div class="no-js-hidden bc-product-price-wrapper" id="price-<%= sectionid %>">
              <%- include('../snippets/price', {
                product: product, 
                use_variant: true, 
                show_badges: false, 
                price_class: 'price--large'
              }) %>
            </div>
            <%# form | payment_terms %>          
          <% } else if(block.type === 'quantity_selector'){ %>
          <style>
            .quantity .quantity__button{
              border:1px solid;
              border-radius:50%;
              color:<%=block?.settings?.option_color%>;
            }
            .quantity .quantity__input{
              color:<%=block?.settings?.option_color%>;
            }
          </style>
            <div class="product-form__input product-form__quantity">
              <label class="form__label" for="Quantity-<%= sectionid %>">
                <%=products.product?.quantity.label%>
              </label>
              <quantity-input class="quantity">
                <button class="quantity__button no-js-hidden" name="minus" type="button">
                  
                  <%- include('../snippets/icon-minus') %>
                </button>
                <input class="quantity__input"
                    type="number"
                    name="quantity"
                    id="Quantity-<%= sectionid %>"
                    min="1"
                    value="1"
                    form="product-form-<%= sectionid %>"
                  >
                <button class="quantity__button no-js-hidden" name="plus" type="button">
                  <span class="visually-hidden"><%=products?.product?.quantity?.increase%></span>
                  <%- include('../snippets/icon-plus') %>
                </button>
              </quantity-input>
            </div>
          <% } else if(block.type === 'variant_picker'){ %>
          <style>
            .product-form__input input[type='radio'] + label{
              background:<%=block?.settings?.option_bg_color%>;
              color:<%=block?.settings?.option_color%>;
              border:1px solid;
              border-color:<%=block?.settings?.option_color_br%> !important;
              font-size: <%=block?.settings?.option_fontsize%>px;
            }
            .product-form__input input[type='radio']:checked + label {
              background:<%=block?.settings?.selected_option_bg_color%>;
              color:<%=block?.settings?.selected_option_color%>;
              border-color:<%=block?.settings?.selected_option_color_br%> !important;
              cursor: default;
            } 
            .general-picker-sm_radius .product-form__input input[type='radio'] + label{
              border-radius:6px;
            }
            .general-picker-f_radius .product-form__input input[type='radio'] + label{
              border-radius:60px;
            }
            .general-picker-f_radius .product-form__input input[type='radio'] + label[for*=ize]{
              width: 40px;
              height: 40px;
            }
            .color-picker-name .product-form__input input[type='radio'] + label[for*=olor] span{
              display:none;
            }
            .color-picker-color .product-form__input input[type='radio'] + label[for*=olor]{
              font-size: 0px;
              border-radius: 50%;
              padding: 0px;
              min-width: auto;
              border: 1px solid;
            }
            .color-picker-color .product-form__input input[type='radio']:checked + label[for*=olor]{
              border: 2px solid;
            }
            .color-picker-color .product-form__input input[type='radio'] + label[for*=olor] span{
              margin-right: 0px;
              width: 30px;
              height: 30px;
              border: 2px solid transparent;
            }
            .color-picker-color .product-form__input input[type='radio']:checked + label[for*=olor] span{
              border: 2px solid white;
            }
            .product__info-container .bc-colors__heading,
            .product__info-container fieldset.product-form__input .form__label{
              font-size: <%=block?.settings?.option_fontsize%>px;
              font-weight: <%=block?.settings?.option_fontweight%>;
              font-stretch:<%=block?.settings?.option_fontstretch%>;
              font-style:<%=block?.settings?.option_fontstyle%>;
              line-height:<%=block?.settings?.option_lineheight%>;
              letter-spacing:<%=block?.settings?.option_letterspacing%>
            }            
            @media(max-width:749px){
              .product__info-container .bc-colors__heading,
              .product__info-container fieldset.product-form__input .form__label{
                  font-size: <%=block?.settings?.option_fontsize_m%>px;
              }
              .product-form__input input[type='radio'] + label{
                font-size: <%=block?.settings?.option_fontsize_m%>px;
              }
            }
            
          </style>
            <div class="variant-picker-container color-picker-<%=block?.settings?.color_picker_type%> general-picker-<%=block?.settings?.general_picker_type%>">
        
            <% if(!product?.has_only_default_variant){ %>              
                <variant-radios class="no-js-hidden" data-section="<%= sectionid %>" data-url="<%= product?.url %>">                  
                    <% product?.options_with_values?.forEach((option,index)=>{ %>
                        <%
                          var optionName = option.name.toLowerCase()
                          var color = false
                          if(optionName.includes('color') || optionName.includes('colour')){
                            color = true
                          } 
                        %>
                        <fieldset class="js product-form__input" product-option = "<%=optionName%>">
                          <legend class="form__label"><%= option.name %>: <span class="selected-value"><%=option.selected_value%></span></legend>
                          <% option?.values?.forEach((value,index)=>{ %>
                            <input type="radio" id="<%= sectionid %>-<%= option.name %>-<%= index %>"
                                  name="<%= option.name %>"
                                  value="<%= value %>"
                                  form="product-form-<%= sectionid %>"
                                  <% if(option.selected_value === value){ %> checked <% } %>
                            >
                            
                            <label for="<%= sectionid %>-<%= option.name %>-<%= index0 %>">
                              <% if(!color){ %>                                
                              <% if(value === "ONESIZE"){ %>
                                OS
                              <% } else { %>
                                <% var valueSize = value.length %>
                                <% if(valueSize < 5 ){ %>
                                  <%= value %>
                                  <% } else { %>
                                    <% var variantNameObject = value?.split(' ') %>
                                    <% variantNameObject?.forEach((variantName,index)=>{ %>
                                      <% var forVariantName = variantName.length %>
                                      <% if(forVariantName < 4){ %>
                                        <%= variantName %>
                                      <% } else { %>
                                        <%= variantName?.slice(0) %>
                                      <% } %>
                                    <% }) %>
                                  <% } %>
                              <% } %>
                              <% } else { %>
                                <span class="pd-colors__icon" data-color="<%= value.toLowerCase() %>"></span><%= value %>
                              <% } %>  
                          </label>
                          <% }) %>
                        </fieldset>
                    <% }) %>                  
                  <div id="preorderbunner"></div>
                  <script type="application/json">
                    <%= product?.variants %>
                  </script>
                  <script id="product-variants-metafields" type="application/json">
                  [
                    <% product?.variants?.forEach((variant,index)=>{ %>
                          {
                          	"<%=variant?.id%>" : 
                            <% if(variant?.metafields?.order?.length > 0){ %>
                              <% variant?.metafields?.order?.forEach((item,index)=>{ %>
                                  <% if(index===0){ %>
                                      {
                                  <% } %>
                                          "<%=item[0]%>" : "<%= item[1] %>"<% if(index+1!==variant?.metafields?.order?.length){ %>,<% } %>
                                  <% if(index+1===variant?.metafields?.order?.length){ %>
                                      }
                                  <% } %>
                              <% }) %>
                            <% } else { %>
                            	""
                            <% } %>
                          }<% if(index+1!==variant?.metafields?.order?.length){ %>,<% } %>
                    <% }) %>
                  ]
                  </script>
                </variant-radios>              
            <% } %>
            </div>
        <% if(sizeCharts?.cm_content || sizeCharts?.inches_content){ %>
        <modal-opener class="product-popup-modal__opener no-js-hidden " data-modal="#PopupModal-sizecharts">
          <button id="ProductPopup-sizecharts" class="product-popup-modal__button link bc-size-chart-button" type="button" aria-haspopup="dialog">VIEW SIZING CHART</button>
        </modal-opener>
        <% } %>
          

            <noscript>
              <div class="product-form__input<% if(product?.has_only_default_variant){ %> hidden<% } %>">
                <label class="form__label" for="Variants-<%= sectionid %>"><%=products.product?.product_variants%></label>
                <div class="select">
                  <select name="id" id="Variants-<%= sectionid %>" class="select__select" form="product-form">
                    <% product?.variants?.forEach((variant,index)=>{ %>
                      <option
                        <% if(variant === product?.selected_or_first_available_variant){ %>selected="selected"<% } %>
                        <% if(variant?.available === false){ %> disabled <% } %>
                        value="<%= variant?.id %>"
                      >
                        <%= variant?.title %>
                        <% if(variant?.available === false){ %> - <%=products.product?.sold_out%><% } %>
                        - <%= variant?.price?.trim() %>
                      </option>
                    <% }) %>
                  </select>
                  <%- include('../snippets/icon-caret') %>
                </div>
              </div>
            </noscript>
          <% } else if(block.type === 'buy_buttons'){ %>
            
            <product-form class="product-form">
              <form id="product_form_id" class="form product-form__flex" data-type="add-to-cart-form">
                <input type="hidden" name="id" value="<%= product?.variants[0]?.id %>">
                <% if(product?.metafields?.gift.product_id){ %>
                <input type="hidden" name="gift_id" value="<%= product?.metafields?.gift.product_id %>">
                <% } %>
                <div id="bc-order-id"></div>
              	<div class="product-form__buttons">
                  <button
                    type="submit"
                    name="add"
                    class="product-form__submit button button--full-width py-btn-<%=block?.settings?.add_btn_size%> <% if(block?.settings?.show_dynamic_checkout && product?.selling_plan_groups){ %>button--primar<% } else { %>button--primary<% } %>"
                    <% if(product?.variants[0]?.available === false){ %> disabled <% } %>
                    > 
                    <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.5 8H12.5V5H15.5V3H12.5V0H10.5V3H7.5V5H10.5V8ZM6.5 17C5.96957 17 5.46086 17.2107 5.08579 17.5858C4.71071 17.9609 4.5 18.4696 4.5 19C4.5 19.5304 4.71071 20.0391 5.08579 20.4142C5.46086 20.7893 5.96957 21 6.5 21C7.03043 21 7.53914 20.7893 7.91421 20.4142C8.28929 20.0391 8.5 19.5304 8.5 19C8.5 18.4696 8.28929 17.9609 7.91421 17.5858C7.53914 17.2107 7.03043 17 6.5 17ZM16.5 17C15.9696 17 15.4609 17.2107 15.0858 17.5858C14.7107 17.9609 14.5 18.4696 14.5 19C14.5 19.5304 14.7107 20.0391 15.0858 20.4142C15.4609 20.7893 15.9696 21 16.5 21C17.0304 21 17.5391 20.7893 17.9142 20.4142C18.2893 20.0391 18.5 19.5304 18.5 19C18.5 18.4696 18.2893 17.9609 17.9142 17.5858C17.5391 17.2107 17.0304 17 16.5 17ZM6.67 13.75L6.7 13.63L7.6 12H15.05C15.8 12 16.46 11.59 16.8 10.97L20.66 3.96L18.92 3H18.91L17.81 5L15.05 10H8.03L7.9 9.73L5.66 5L4.71 3L3.77 1H0.5V3H2.5L6.1 10.59L4.75 13.04C4.59 13.32 4.5 13.65 4.5 14C4.5 14.5304 4.71071 15.0391 5.08579 15.4142C5.46086 15.7893 5.96957 16 6.5 16H18.5V14H6.92C6.79 14 6.67 13.89 6.67 13.75Z"/>
                    </svg>
                    <span class="product-form__submit-label">
                      <% if(product?.variants[0]?.available){ %>
                        <% if(block?.settings?.btn){ %>
                          <%= block?.settings?.btn %>
                        <% } else { %>
                          <%=products.product?.add_to_cart%>
                        <% } %>
                      <% } else { %>
                        <%=products.product?.sold_out%>
                      <% } %>
                    </span>
                   
                  </button>
                  <% if(block?.settings?.show_dynamic_checkout){ %>
                    <%# form | payment_button %>
                  <% } %>
                </div>
              </form>
            </product-form>

            <link rel="stylesheet" href="/<%=srcId%>/component-pickup-availability.css">
            <style>
              button.product-form__submit{
                border-radius:<%=block?.settings?.btn_border_radius%>px;
                border:<%=block?.settings?.btn_border_width%>px solid <%=block?.settings?.btn_color_br%>;
                background-color:<%=block?.settings?.btn_bg_color%>;
                color:<%=block?.settings?.btn_color%>;
                font-size:<%=block?.settings?.btn_font_size%>px;
              }
              button.product-form__submit svg{
                margin-right: 15px;
                fill:<%=block?.settings?.btn_color%>;
              }
              button.product-form__submit:hover{
                color: <%=block?.settings?.btn_hover_color%>;
                border-color: <%=block?.settings?.btn_hover_color%>;
                background-color:<%=block?.settings?.btn_hover_bg_color%>;
              }
              button.product-form__submit:hover svg{
                fill: <%=block?.settings?.btn_hover_color%>;
              }
              .pickup-card-wrapper{
                border-radius:<%=block?.settings?.pick_up_card_radius%>px;
                border:<%=block?.settings?.pick_up_border_width%>px solid <%=block?.settings?.pick_up_color_br%>;
                background-color:<%=block?.settings?.pick_up_bg_color%>;
              }
              .pickup-location-item{
                background-color: <%=block?.settings?.pick_up_location_bg_color%>;
                border-radius:<%=block?.settings?.pick_up_location_radius%>px;
                padding: var(--py-pd-x-s) var(--py-pd-y-m);
                margin-bottom: var(--py-mg-x-s);
              }
              .pickup-location-item *{
                color:<%=block?.settings?.pick_up_location_color%>
              }
              .pickup-card-title{
                font-size:<%=block?.settings?.pick_up_title_font_size%>px;
                color:<%=block?.settings?.pick_up_color%>;
              }
              .pickup-card-description{
                font-size:<%=block?.settings?.pick_up_desc_font_size%>px;
                color:<%=block?.settings?.pick_up_color%>;
              }
              pickup-availability-drawer{
                background: <%=block?.settings?.pick_up_bg_color%>;                
              }
              pickup-availability-drawer *{
                color:<%=block?.settings?.pick_up_color%>;
              }
              #preorderbunner .bc-order-wrapper{
                border-radius:<%=block?.settings?.pre_order_card_radius%>px;
                border:<%=block?.settings?.pre_order_border_width%>px solid <%=block?.settings?.pre_order_color_br%>;
                background-color:<%=block?.settings?.pre_order_bg_color%>;
              }
              #preorderbunner .bc-order-wrapper .title{
                color:<%=block?.settings?.pre_order_color%>;
                font-size:<%=block?.settings?.pre_order_title_font_size%>px;
              }
              #preorderbunner .bc-order-wrapper .message,.bc-order-wrapper .product-popup-modal__button{
                color:<%=block?.settings?.pre_order_color%>;
                font-size:font-size:<%=block?.settings?.pre_order_desc_font_size%>px;
              }
              #PopupModal-preorder .product-popup-modal__content{
                background-color:<%=block?.settings?.pre_order_bg_color%>;
              }
              #PopupModal-preorder .product-popup-modal__content *{
                color:<%=block?.settings?.pre_order_color%>;
              }
              #preorderbunner .bc-order-wrapper.sold-out-card{
                border-radius:<%=block?.settings?.sold_out_card_radius%>px;
                border:<%=block?.settings?.sold_out_border_width%>px solid <%=block?.settings?.sold_out_color_br%>;
                background-color:<%=block?.settings?.sold_out_bg_color%>;
              }
              #preorderbunner .bc-order-wrapper.sold-out-card .title{
                color:<%=block?.settings?.sold_out_color_info%>;
                font-size:<%=block?.settings?.sold_out_title_font_size%>px;
              }
              #preorderbunner .bc-order-wrapper.sold-out-card .message,.bc-order-wrapper.sold-out-card .product-popup-modal__button{
                color:<%=block?.settings?.sold_out_color_info%>;
                font-size:font-size:<%=block?.settings?.sold_out_desc_font_size%>px;
              }
              #PopupModal-preorder .product-popup-modal__content{
                background-color:<%=block?.settings?.sold_out_bg_color%>;
              }
              #PopupModal-preorder .product-popup-modal__content *{
                color:<%=block?.settings?.sold_out_color_info%>;
              }
            </style> 
            <% var pick_up_availabilities = product?.variants[0]?.store_availabilities?.filter(item => item?.pick_up_enabled === true) %>
            <div class="pickup-card-wrapper py-pd-y-m py-pd-x-m <% if(product?.variants[0]?.available && pick_up_availabilities?.length > 0){ %> available<% } %>">
              <div class="pickup-card-title">Pickup Available</div>
              <div class="pickup-card-description"><%=block?.settings?.pick_up_txt%></div>
              <pickup-availability class="product__pickup-availabilities no-js-hidden"
                <% if(product?.variants[0]?.available && pick_up_availabilities?.length > 0){ %> available<% } %>
                data-base-url="<%= shop.url %><%= routes.root_url %>"
                data-variant-id="<%= product?.variants[0]?.id %>"
                data-has-only-default-variant="<%= product?.has_only_default_variant %>"
              >
                <template>
                  <pickup-availability-preview class="pickup-availability-preview">                  
                    <div class="pickup-availability-info">
                      <p class="caption-large"><%=products.product?.pickup_availability.unavailable%></p>
                      <button class="pickup-availability-button link link--text underlined-link"><%=products.product?.pickup_availability.refresh%></button>
                    </div>
                  </pickup-availability-preview>
                </template>
               </pickup-availability>
             </div>

            <script src="/<%=srcId%>/pickup-availability.js" defer="defer"></script>
            <% if(block?.settings?.fixed_add){ %>
            <style>
            .fixed-add-wraper{
              border-radius:<%=block?.settings?.fixed_add_radius%>px;              
              background-color:<%=block?.settings?.fixed_add_bg_color%>;
              display:none;
            }
            .fixed-add-wraper.active{
              display:block;
            }
            .fixed-add-wraper *{
              color:<%=block?.settings?.fixed_add_color_info%> !important;
            }
            .fixed-add-wraper button.product-form__submit{
              border-radius:<%=block?.settings?.fixed_add_btn_radius%>px;
              background-color:<%=block?.settings?.fixed_add_btn_bg_color%>;
              color:<%=block?.settings?.fixed_add_btn_color%>;
              border-color:<%=block?.settings?.fixed_add_btn_color%>;
            }
            .fixed-add-wraper button.product-form__submit svg {                
                fill: <%=block?.settings?.fixed_add_btn_color%>;
            }
            .fixed-add-wraper button.product-form__submit:hover{
              background-color:<%=block?.settings?.fixed_add_btn_hv_bg_color%>;
              color:<%=block?.settings?.fixed_add_btn_hv_color%>;
              border-color:<%=block?.settings?.fixed_add_btn_hv_color%>;
            }
            .fixed-add-wraper button.product-form__submit:hover svg{
              fill: <%=block?.settings?.fixed_add_btn_hv_color%>;
            }
            </style>
            <div class="fixed-add-wraper fixed-add-<%=block?.settings?.fixed_style%>">
              <div class="fixed-add-container">
                <div class="product-form__input product-form__quantity">
                  <label class="form__label" for="Quantity-fixed_add">
                    <%=products.product?.quantity.label%>
                  </label>
                  <quantity-input class="quantity">
                    <button class="quantity__button no-js-hidden" name="minus" type="button">
                      <span class="visually-hidden"><%=products.product?.quantity.decrease%></span>
                      <%- include('../snippets/icon-minus') %>
                    </button>
                    <input class="quantity__input"
                        type="number"
                        name="quantity"
                        id="Quantity-fixed_add"
                        min="1"
                        value="1"
                        form="product-form-<%= sectionid %>"
                      >
                    <button class="quantity__button no-js-hidden" name="plus" type="button">
                      <span class="visually-hidden"><%=products.product?.quantity.increase%></span>
                      <%- include('../snippets/icon-plus') %>
                    </button>
                  </quantity-input>
                </div>
                <div class="variant_select_container">
                <% if(!product?.has_only_default_variant){ %>
                    <% product?.options_with_values?.forEach((option,index)=>{ %>
                        <%
                          var optionName = option.name.toLowerCase()
                          var color = false
                          if(optionName.includes('color') || optionName.includes('colour')){
                            color = true
                          } %>
                        <div class="select_wraper">
                        <label class="form__label"><%= option.name %>: </label>  
                        <select class="js product-form__input" product-option="<%=optionName%>">                          
                          <% option?.values?.forEach((value,index)=>{ %>
                            <option 
                                  data_name="<%= option.name %>"
                                  value="<%= value %>"                                  
                                  <% if(option.selected_value === value){ %> selected <% } %>
                            ><%= value %></option>
                          <% }) %>
                        </select>
                        </div>
                    <% }) %>                            
                <% } %>
                </div>
                <div class="product-form__buttons">
                  <button type="submit" name="add" class="product-form__submit button button--full-width button--primary py-btn-<%=block?.settings?.add_btn_size%>"> 
                    <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.5 8H12.5V5H15.5V3H12.5V0H10.5V3H7.5V5H10.5V8ZM6.5 17C5.96957 17 5.46086 17.2107 5.08579 17.5858C4.71071 17.9609 4.5 18.4696 4.5 19C4.5 19.5304 4.71071 20.0391 5.08579 20.4142C5.46086 20.7893 5.96957 21 6.5 21C7.03043 21 7.53914 20.7893 7.91421 20.4142C8.28929 20.0391 8.5 19.5304 8.5 19C8.5 18.4696 8.28929 17.9609 7.91421 17.5858C7.53914 17.2107 7.03043 17 6.5 17ZM16.5 17C15.9696 17 15.4609 17.2107 15.0858 17.5858C14.7107 17.9609 14.5 18.4696 14.5 19C14.5 19.5304 14.7107 20.0391 15.0858 20.4142C15.4609 20.7893 15.9696 21 16.5 21C17.0304 21 17.5391 20.7893 17.9142 20.4142C18.2893 20.0391 18.5 19.5304 18.5 19C18.5 18.4696 18.2893 17.9609 17.9142 17.5858C17.5391 17.2107 17.0304 17 16.5 17ZM6.67 13.75L6.7 13.63L7.6 12H15.05C15.8 12 16.46 11.59 16.8 10.97L20.66 3.96L18.92 3H18.91L17.81 5L15.05 10H8.03L7.9 9.73L5.66 5L4.71 3L3.77 1H0.5V3H2.5L6.1 10.59L4.75 13.04C4.59 13.32 4.5 13.65 4.5 14C4.5 14.5304 4.71071 15.0391 5.08579 15.4142C5.46086 15.7893 5.96957 16 6.5 16H18.5V14H6.92C6.79 14 6.67 13.89 6.67 13.75Z"></path>
                    </svg>
                    <span class="product-form__submit-label">Add to cart</span>
                  </button>
                </div>
              </div>
            </div>
            <script>
            document.querySelectorAll('.fixed-add-wraper select').forEach((select => select.addEventListener('change',function(){
               var option = select.getAttribute('product-option');
               var val = select.value;
               document.querySelector("fieldset[product-option='"+option+"'] input[value='"+val+"']").click()
               setTimeout(function(){
                 var btn_txt = document.querySelector('.product__info-wrapper .product-form form .product-form__buttons .product-form__submit-label').innerText;
                 if(document.querySelector('.product__info-wrapper .product-form form .product-form__buttons .product-form__submit').getAttribute('disabled') === null){
                   document.querySelector('.fixed-add-wraper .product-form__buttons .product-form__submit').removeAttribute('disabled');
                 }else{
                   document.querySelector('.fixed-add-wraper .product-form__buttons .product-form__submit').setAttribute('disabled',true);
                 }
                 document.querySelector('.fixed-add-wraper .product-form__buttons .product-form__submit .product-form__submit-label').innerText = btn_txt;
               },1000);
            })))
            document.querySelector('.fixed-add-wraper .product-form__buttons .product-form__submit').addEventListener('click', function(){
              document.querySelector('.product__info-wrapper .product_info_left_col>.product-form__input .quantity .quantity__input').value = document.querySelector('.fixed-add-wraper .quantity input').value;
              document.querySelector('.product__info-wrapper .product-form form .product-form__buttons .product-form__submit').click();
            })
            const sticky_add = document.querySelector(".fixed-add-wraper");
            const paymentContainerElement = document.querySelector(".main-product-section .product-form .product-form__buttons"); 
            var sticky_active = function() {  
              var y = paymentContainerElement.getBoundingClientRect().top;
              if (y < 90) {
                sticky_add.classList.add('active');
              } else {
                sticky_add.classList.remove('active');
              }
            };
            
            window.addEventListener("scroll", sticky_active); 
            </script>
            <% } %>
          <% } %>
        <% }) %>
        </div>
        <div class="product_info_right_col">
        <% section?.block_order?.forEach((orderItem, index) => { %>
          <% let block = section?.blocks[orderItem] %>
          <% if(block.type === 'description'){ %>
            <style>
              .product__info-container .product__description{
                font-size: <%=block?.settings?.info_fontsize%>px;
                font-weight: <%=block?.settings?.info_fontweight%>;
                font-stretch:<%=block?.settings?.info_fontstretch%>;
                font-style:<%=block?.settings?.info_fontstyle%>;
                line-height:<%=block?.settings?.info_lineheight%>;
                letter-spacing:<%=block?.settings?.info_letterspacing%>
              }
              @media(max-width:749px){
                .product__info-container .product__description{
                    font-size: <%=block?.settings?.info_fontsize_m%>px
                }
              }
            </style>
            <% if(product?.description){ %>
              <div class="product__description rte">
                <%= product?.description %>
              </div>
            <% } %>
          <% } else if(block.type === 'collapsible_tab'){ %>
            <% var headingLow = block?.settings?.heading.toLowerCase()?.trim() %>
            <style>
              .accordion_<%=headingLow?.replace(' ', '-') %>{
                background-color:<%=block?.settings?.py_content_bg_color%>;
                color:<%= block?.settings?.py_content_color %>;
                border-color:<%= block?.settings?.py_content_color_br %>;
              }
              .accordion_<%=headingLow?.replace(' ', '-') %> *{
                color:<%= block?.settings?.py_content_color %>;
                fill:<%= block?.settings?.py_content_color %>;
              }
            </style>
            <div class="product__accordion accordion accordion_<%=headingLow?.replace(' ', '-') %>">
              <details>
                <summary>
                  <div class="summary__title">
                    <%- include('../snippets/icon-accordion', {icon: block?.settings?.icon}) %>
                    <h2 class="h4 accordion__title">
                      <%= block?.settings?.heading || block?.settings?.page.title %>
                    </h2>
                  </div>
                  <%- include('../snippets/icon-caret') %>
                </summary>
                <div class="accordion__content">
                  <% if(headingLow === 'details' && product?.description){ %>
                    <%- product?.description -%>
                  <% } else { %>
                    <%- block?.settings?.content -%>
                    <%- block?.settings?.page?.content -%>
                  <% } %>
                </div>
              </details>
            </div>
          <% } else if(block.type === 'popup'){ %>
              <modal-opener class="product-popup-modal__opener no-js-hidden" data-modal="#PopupModal-<%= orderItem %>">
                <button id="ProductPopup-<%= orderItem %>" class="product-popup-modal__button link" type="button" aria-haspopup="dialog"><%= block?.settings?.link_label || block?.settings?.page.title %></button>
              </modal-opener>
              <a href="<%= block?.settings?.page.url %>" class="product-popup-modal__button link no-js"><%= block?.settings?.link_label %></a>
          <% } else if(block.type === 'share'){ %>
            <share-button class="share-button">
              <button class="share-button__button button button--tertiary hidden">
                <%- include('../snippets/icon-share') %>
                <%=general.share.share%>
              </button>
              <details>
                <summary class="share-button__button button button--tertiary">
                  <%- include('../snippets/icon-share') %>
                  <%=general.share.share%>
                </summary>
                <div class="share-button__fallback">
                  <div class="field">
                    <input type="text"
                          class="field__input"
                          id="url"
                          value="<%= shop.url + product?.url %>"
                          placeholder="<%=general.share.share_url%>"
                          onclick="this.select();"
                          readonly
                    >
                    <label class="field__label" for="url"><%=general.share.share_url%></label>
                  </div>
                  <button class="button button--tertiary">
                    <%- include('../snippets/icon-clipboard') %>
                    <%=general.share.copy_to_clipboard%>
                  </button>
                  <span id="ShareMessage-<%= sectionid %>" class="share-button__message hidden" role="status" aria-hidden="true">
                    <%=general.share.success_message%>
                  </span>
                </div>
              </details>
            </share-button>
            <script src="/<%=srcId%>/share.js" defer="defer"></script>

          <% } else if(block.type === 'goes'){ %>
            <% if(block?.settings?.prod){ %>
              <% var prod = collection?.products?.filter(item => item.handle === block?.settings?.prod) %>
              <%- include('../snippets/goes', {prod: prod?.length ? prod[0] : null, title: block?.settings?.heading}) %>
            <% } %>

          <% } %>
        <% }) %>
      </div>
      </div>
    </div>

    <%# var popups = section?.blocks | where: "type", "popup" %>
    <%# for block in popups){ %>
      <!-- <modal-dialog id="PopupModal-<%# orderItem %>" class="product-popup-modal">
        <div role="dialog" aria-label="<%# block?.settings?.link_label %>" aria-modal="true" class="product-popup-modal__content" tabindex="-1">
          <button id="ModalClose-<%# orderItem %>" type="button" class="product-popup-modal__toggle" aria-label="<%=accessibility.close%>"><%- include('../snippets/icon-close') %></button>
          <div class="product-popup-modal__content-info">
            <h1 class="h2"><%# block?.settings?.page.title %></h1>
            <%# block?.settings?.page.content %>
          </div>
        </div>
      </modal-dialog> -->
    <%# }) %>

    <% if(sizeCharts?.cm_content || sizeCharts?.inches_content){ %>
    <modal-dialog id="PopupModal-sizecharts" class="product-popup-modal">
      <div role="dialog" aria-modal="true" class="product-popup-modal__content" tabindex="-1">
        <button id="ModalClose-sizecharts" type="button" class="product-popup-modal__toggle" aria-label="<%=accessibility.close%>"><%- include('../snippets/icon-close') %></button>
        <size-charts class="product-popup-modal__content-info">
          <% if(sizeCharts?.cm_content && sizeCharts?.inches_content){ %>
          <div class="bc-size-charts-tabs">
            <h2 class="bc-size-charts-tabs-item active" data-index="cm">CM</h2>
            <h2 class="bc-size-charts-tabs-item" data-index="inches">Inches</h2>
          </div>
          <% } %>
          <% if(sizeCharts?.cm_content){ %>
          <div data-id="cm" class="bc-size-charts-content active">
            <% var image = sizeCharts?.cm_content %>
            <div class="media" <% if(image){ %>style="padding-bottom: 100%;"<% } %>>
                <img srcset="<%= image %> 165w,
                    <%= image %> 360w,
                    <%= image %> 535w,
                    <%= image %> 720w,
                    <%= image %> 940w,
                    <%= image %> 1070w"
                    src="<%= image %>"
                    sizes="(min-width: 1100px) 535px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)"
                    alt="<%= image.alt %>"
                    loading="lazy"
                    width="720"
                    height="720"
                />
            </div>  
          </div>
          <% } %>
          <% if(sizeCharts?.inches_content){ %>
          <% var image = sizeCharts?.inches_content %>
          <div data-id="inches" class="bc-size-charts-content <% if(!sizeCharts?.cm_content){ %>active<% } %>">
            <% var image = sizeCharts?.inches_content %>
            <div class="media" <% if(image){ %>style="padding-bottom: 100%;"<% } %>>
                <img srcset="<%= image %> 165w,
                    <%= image %> 360w,
                    <%= image %> 535w,
                    <%= image %> 720w,
                    <%= image %> 940w,
                    <%= image %> 1070w"
                    src="<%= image %>"
                    sizes="(min-width: 1100px) 535px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)"
                    alt="<%= image.alt %>"
                    loading="lazy"
                    width="720"
                    height="720"
                />
            </div>
          </div>
          <% } %>
        </size-charts>
      </div>
    </modal-dialog>
    <% } %>
    <div style="display:none">
      <modal-opener class="product-popup-modal__opener no-js-hidden" data-modal="#PopupModal-shippingcharts">
        <button id="ProductPopup-shippingcharts" class="product-popup-modal__button link bc-shipping-chart-button" type="button" aria-haspopup="dialog"></button>
      </modal-opener>    
    </div>
    <modal-dialog id="PopupModal-shippingcharts" class="product-popup-modal">
      <div role="dialog" aria-modal="true" class="product-popup-modal__content" tabindex="-1">
        <button id="ModalClose-shippingcharts" type="button" class="product-popup-modal__toggle" aria-label="<%=accessibility.close%>"><%- include('../snippets/icon-close') %></button>
        <shipping-chart class="product-popup-modal__content-info">
          <div  class="bc-shipping-charts-content ">
            <div class="on-shippingrates-wrapper"><div class="mt5">
              <div class="grid ga3 pv2 bt bb b--light-gray" style="grid-template-columns: 1fr 1fr 2fr 1fr;">
              <div class="b"><span class="f7">COUNTRY</span></div>
              <div class="b"><span class="f7">COST</span></div>
              <div class="b"><span class="f7">DELIVERY TIME</span></div>
              <div class="b"><span class="f7">SPEND $100+</span></div>
              <div class=""><span class="f7">USA</span></div>
              <div class=""><span class="f7">FREE</span></div>
              <div class=""><span class="f7">4-6 BUSINESS DAYS</span></div>
              <div class=""><span class="f7">FREE</span></div>
              <div class=""><span class="f7">CANADA</span></div>
              <div class=""><span class="f7">FREE</span></div>
              <div class=""><span class="f7">CANADA: 4-6 BUSINESS DAYS ONTARIO: 3-4 BUSINESS DAYS</span></div>
              <div class=""><span class="f7">FREE</span></div>
              <div class=""><span class="f7">UK</span></div>
              <div class=""><span class="f7">$30</span></div>
              <div class=""><span class="f7">2-7 BUSINESS DAYS</span></div>
              <div class=""><span class="f7">FREE</span></div>
              <div class=""><span class="f7">AUSTRALIA</span></div>
              <div class=""><span class="f7">$30</span></div>
              <div class=""><span class="f7">2-7 BUSINESS DAYS</span></div>
              <div class=""><span class="f7">FREE</span></div>
              <div class=""><span class="f7">INTERNATIONAL</span></div>
              <div class=""><span class="f7">$30</span></div>
              <div class=""><span class="f7">2-7 BUSINESS DAYS</span></div>
              <div class=""><span class="f7">FREE</span></div>
              </div>
              <p class="mt4 f6">We ship to the following countries:</p>
              <div class="grid ga3" style="grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));">
              <div><span class="f7">AUSTRALIA</span></div>
              <div><span class="f7">AUSTRIA</span></div>
              <div><span class="f7">BELGIUM</span></div>
              <div><span class="f7">BRAZIL</span></div>
              <div><span class="f7">CANADA</span></div>
              <div><span class="f7">CROATIA</span></div>
              <div><span class="f7">DENMARK</span></div>
              <div><span class="f7">ESTONIA</span></div>
              <div><span class="f7">FINLAND</span></div>
              <div><span class="f7">FRANCE</span></div>
              <div><span class="f7">GERMANY</span></div>
              <div><span class="f7">GIBRALTAR</span></div>
              <div><span class="f7">GREECE</span></div>
              <div><span class="f7">HONG KONG</span></div>
              <div><span class="f7">HUNGARY</span></div>
              <div><span class="f7">IRELAND</span></div>
              <div><span class="f7">ISRAEL</span></div>
              <div><span class="f7">ITALY</span></div>
              <div><span class="f7">JAPAN</span></div>
              <div><span class="f7">KOREA</span></div>
              <div><span class="f7">LATVIA</span></div>
              <div><span class="f7">LITHUANIA</span></div>
              <div><span class="f7">LUXEMBOURG</span></div>
              <div><span class="f7">MALAYSIA</span></div>
              <div><span class="f7">MALTA</span></div>
              <div><span class="f7">NETHERLANDS</span></div>
              <div><span class="f7">NEW ZEALAND</span></div>
              <div><span class="f7">NORWAY</span></div>
              <div><span class="f7">POLAND</span></div>
              <div><span class="f7">PORTUGAL</span></div>
              <div><span class="f7">RUSSIA</span></div>
              <div><span class="f7">SINGAPORE</span></div>
              <div><span class="f7">SOUTH KOREA</span></div>
              <div><span class="f7">SPAIN</span></div>
              <div><span class="f7">SWEDEN</span></div>
              <div><span class="f7">SWITZERLAND</span></div>
              <div><span class="f7">UNITED KINGDOM</span></div>
              <div><span class="f7">UNITED STATES</span></div>
              </div>
              </div></div>
          </div>
        </shipping-chart>
      </div>
    </modal-dialog>
    <%# include('../snippets/instagram-feed') %>
    <%# include('../snippets/tiktok-feed') %>
  </div>
</section>

<script>
  class ProductModal extends ModalDialog {
    constructor() {
      super();
    }

    hide() {
      super.hide();
      window.pauseAllMedia();
    }

    show(opener) {
      super.show(opener);
      this.showActiveMedia();
    }

    showActiveMedia() {
      this.querySelectorAll(`[data-media-id]:not([data-media-id="${this.openedBy.getAttribute("data-media-id")}"])`).forEach((element) => {
          element.classList.remove('active');
        }
      )
      const activeMedia = this.querySelector(`[data-media-id="${this.openedBy.getAttribute("data-media-id")}"]`);
      activeMedia.classList.add('active');
      activeMedia.scrollIntoView();

      if (activeMedia.nodeName === 'DEFERRED-MEDIA' && activeMedia.querySelector('template')?.content?.querySelector('.js-youtube'))
        activeMedia.loadContent();
    }
  }

  customElements.define('product-modal', ProductModal);
</script>


<% if(first_3d_model?.length){ %>
  <script type="application/json" id="ProductJSON-<%= product?.id %>">
    <%# product?.media | where: 'media_type', 'model' %>
  </script>

  <script src="/<%=srcId%>/product-model.js" defer></script>
<% } %>
<style>
  .on-shippingrates-wrapper .grid{
    grid-template-columns: 1fr 1fr 2fr 1fr;
    display: grid;
    line-height: 3;
    border-bottom: 1px solid gainsboro; 
    border-top: 1px solid gainsboro;
  }
  .on-shippingrates-wrapper .grid>div{
    padding:3px 8px;
  }
  .shipping-and-returns .accordion__content h3{
    cursor: pointer;
  }
</style>
<script>
  
  var shipping_chart = document.querySelectorAll('.shipping-and-returns .accordion__content h3');
  for(i=0;i<shipping_chart.length;i++){    
    if(shipping_chart[i].textContent.toLowerCase().includes('shipping chart')){
      
      shipping_chart[i].addEventListener("click", function() {
        document.getElementById('ProductPopup-shippingcharts').click();
      });
    } else if(shipping_chart[i].textContent.toLowerCase().includes('return policy')){
      shipping_chart[i].addEventListener("click", function() {
        window.location.href = '/pages/shipping';
      });
    }
  } 
  
</script>